function noop(){}function assign(a){for(var b,c,d=1,e=arguments.length;d<e;d++)for(b in c=arguments[d],c)a[b]=c[b];return a}function appendNode(a,b){b.appendChild(a)}function insertNode(a,b,c){b.insertBefore(a,c)}function detachNode(a){a.parentNode.removeChild(a)}function destroyEach(a){for(var b=0;b<a.length;b+=1)a[b]&&a[b].d()}function createElement(a){return document.createElement(a)}function createText(a){return document.createTextNode(a)}function addListener(a,b,c){a.addEventListener(b,c,!1)}function removeListener(a,b,c){a.removeEventListener(b,c,!1)}function setAttribute(a,b,c){a.setAttribute(b,c)}function blankObject(){return Object.create(null)}function destroy(a){this.destroy=noop,this.fire('destroy'),this.set=this.get=noop,!1!==a&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function differs(c,d){return c!==d||c&&'object'==typeof c||'function'==typeof c}function dispatchObservers(a,b,c,d,e){for(var f in b)if(c[f]){var g=d[f],h=e[f],j=b[f];if(j)for(var k,l=0;l<j.length;l+=1)k=j[l],k.__calling||(k.__calling=!0,k.call(a,g,h),k.__calling=!1)}}function fire(a,b){var c=a in this._handlers&&this._handlers[a].slice();if(c)for(var d=0;d<c.length;d+=1)c[d].call(this,b)}function get(a){return a?this._state[a]:this._state}function init(a,b){a.options=b,a._observers={pre:blankObject(),post:blankObject()},a._handlers=blankObject(),a._root=b._root||a,a._yield=b._yield,a._bind=b._bind}function observe(a,b,c){var d=c&&c.defer?this._observers.post:this._observers.pre;return(d[a]||(d[a]=[])).push(b),c&&!1===c.init||(b.__calling=!0,b.call(this,this._state[a]),b.__calling=!1),{cancel:function(){var c=d[a].indexOf(b);~c&&d[a].splice(c,1)}}}function on(a,b){if('teardown'===a)return this.on('destroy',b);var c=this._handlers[a]||(this._handlers[a]=[]);return c.push(b),{cancel:function(){var a=c.indexOf(b);~a&&c.splice(a,1)}}}function set(a){this._set(assign({},a));this._root._lock||(this._root._lock=!0,callAll(this._root._beforecreate),callAll(this._root._oncreate),callAll(this._root._aftercreate),this._root._lock=!1)}function _set(a){var b=this._state,c={},d=!1;for(var e in a)differs(a[e],b[e])&&(c[e]=d=!0);d&&(this._state=assign({},b,a),this._recompute(c,this._state),this._bind&&this._bind(c,this._state),dispatchObservers(this,this._observers.pre,c,this._state,b),this._fragment.p(c,this._state),dispatchObservers(this,this._observers.post,c,this._state,b))}function callAll(a){for(;a&&a.length;)a.pop()()}function _mount(a,b){this._fragment.m(a,b)}function _unmount(){this._fragment.u()}var proto={destroy:destroy,get:get,fire:fire,observe:observe,on:on,set:set,teardown:destroy,_recompute:noop,_set:_set,_mount:_mount,_unmount:_unmount};function getDaysInMonth(a,b){return 2===b?0==a%4?29:28:[31,-1,31,30,31,30,31,31,30,31,30,31][b-1]}function getPreviousMonth(a,b){return 1===b?{month:12,year:a-1}:{month:b-1,year:a}}function getNextMonth(a,b){return 12===b?{month:1,year:a+1}:{month:b+1,year:a}}function getPreviousDay(a,b,c){if(1===c){const c=getPreviousMonth(a,b),d=getDaysInMonth(c.year,c.month),e=new Date(Date.UTC(c.year,c.month-1,d));return{dayInMonth:e.getUTCDate(),dayInWeek:e.getUTCDay(),month:c}}const d=new Date(Date.UTC(a,b-1,c-1));return{dayInMonth:d.getUTCDate(),dayInWeek:d.getUTCDay(),month:{month:b,year:a}}}function getNextDay(a,b,c){if(((a,b,c)=>getDaysInMonth(a,b)===c)(a,b,c)){const c=getNextMonth(a,b),d=new Date(Date.UTC(c.year,c.month-1,1));return{dayInMonth:d.getUTCDate(),dayInWeek:d.getUTCDay(),month:c}}const d=new Date(Date.UTC(a,b-1,c+1));return{dayInMonth:d.getUTCDate(),dayInWeek:d.getUTCDay(),month:{month:b,year:a}}}function calendarMonth(a,b,c=0){if(a=parseInt(a,10),b=parseInt(b,10),c=parseInt(c,10),!a||isNaN(a)||1900>a||2100<a)throw Error('Wrong year. Please use number from 1900 to 2100');if(!b||isNaN(b)||1>b||12<b)throw Error('Wrong month. Please use number from 1 to 12');if(!c&&0!==c||isNaN(c)||0>c||6<c)throw Error('Wrong start of the week. Please use number from 0 (for Sunday) to 6 (for Saturday)');const d=new Date(Date.UTC(a,b-1,1));let e={dayInMonth:d.getUTCDate(),dayInWeek:d.getUTCDay(),month:{month:b,year:a}};if(e.dayInWeek!==c){let a=getPreviousDay(e.month.year,e.month.month,e.dayInMonth);for(;a.dayInWeek!==c;)a=getPreviousDay(a.month.year,a.month.month,a.dayInMonth);e=a}const f=7,g=[];for(let d=e;g.length<f*6;)g.push(d),d=getNextDay(d.month.year,d.month.month,d.dayInMonth);return[g.slice(0*f,1*f),g.slice(1*f,2*f),g.slice(2*f,3*f),g.slice(3*f,4*f),g.slice(4*f,5*f),g.slice(5*f,6*f)]}const isCurrentMonth=(a,b)=>a.month.month===b,isWeekend=(a)=>6===a.dayInWeek||0===a.dayInWeek,isSelected=(a,{day:b,year:c,month:d})=>b===a.dayInMonth&&d===a.month.month&&c===a.month.year,monthName=(a,b)=>new Date(a,b-1).toLocaleString('en-US',{month:'long'}),dayNames=(a)=>{const b=['Su','Mo','Tu','We','Th','Fr','Sa'];for(let c=6;c>6-a;c--){const a=b.shift();a&&b.push(a)}return b},dayClass=(a,b,c)=>{const d=['day'];return isWeekend(b)&&d.push('weekend'),d.push(isCurrentMonth(b,c)?'current-month':'other-month'),a&&isSelected(b,a)&&d.push('selected'),d.join(' ')},selectDay=(a,b)=>{const{month:c,dayInMonth:d}=b;a.set({month:c.month,selectedDay:{day:d,month:c.month,year:c.year},year:c.year}),a.fire('selectedDay',{day:d,month:c.month,year:c.year})},chromeBordersFix=(a)=>{for(let b of a)b.style.borderSpacing='0px'===b.style.borderSpacing?'':'0px'};function nextMonth(a,b){return getNextMonth(a,b)}function calendarMonth_1(a,b,c){return calendarMonth(a,b,c)}function monthName_1(a,b){return monthName(a,b)}function dayNames_1(a){return dayNames(a)}function data(){return{hoverDay:null}}var methods={selectDay(a){selectDay(this,a)},back(a,b){this.set(getPreviousMonth(a,b)),chromeBordersFix(this.options.target.getElementsByClassName('weeks'))},forward(a,b){this.set(getNextMonth(a,b)),chromeBordersFix(this.options.target.getElementsByClassName('weeks'))},keydown(a){'Escape'===a.key&&this.set({hoverDay:void 0})}};function encapsulateStyles(a){setAttribute(a,'svelte-1478982573','')}function create_main_fragment(a,b){function c(a){b.get();b.keydown(a)}function d(){var a=b.get();b.back(a.year,a.month)}function e(){var a=b.get();b.forward(a.year,a.month)}var f,g,h,j,k,l,m,n,o,p,q,r,s,t,u,v;window.addEventListener('keydown',c);for(var w=a.dayNames,x=[],y=0;y<w.length;y+=1)x[y]=create_each_block(a,w,w[y],y,b);for(var i=a.calendarMonth,z=[],y=0;y<i.length;y+=1)z[y]=create_each_block_1(a,i,i[y],y,b);return{c:function(){f=createText('\n\n'),g=createElement('div'),h=createElement('div'),j=createElement('button'),j.innerHTML='<svg viewBox="0 0 1000 1000"><path d="M336.2 274.5l-210.1 210h805.4c13 0 23 10 23 23s-10 23-23 23H126.1l210.1 210.1c11 11 11 21 0 32-5 5-10 7-16 7s-11-2-16-7l-249.1-249c-11-11-11-21 0-32l249.1-249.1c21-21.1 53 10.9 32 32z"></path>\n      </svg>',k=createText('\n    '),l=createElement('button'),l.innerHTML='<svg viewBox="0 0 1000 1000"><path d="M694.4 242.4l249.1 249.1c11 11 11 21 0 32L694.4 772.7c-5 5-10 7-16 7s-11-2-16-7c-11-11-11-21 0-32l210.1-210.1H67.1c-13 0-23-10-23-23s10-23 23-23h805.4L662.4 274.5c-21-21.1 11-53.1 32-32.1z"></path>\n      </svg>',m=createText('\n\n  '),n=createElement('div'),o=createElement('table'),p=createElement('caption'),q=createText(a.monthName),r=createText(' '),s=createText(a.year),t=createText('\n      '),u=createElement('tr');for(var b=0;b<x.length;b+=1)x[b].c();v=createText('\n      ');for(var b=0;b<z.length;b+=1)z[b].c();this.h()},h:function(){encapsulateStyles(g),g.className='wrapper',h.className='flex between',j.className='pointer reset-button',addListener(j,'click',d),l.className='pointer reset-button',addListener(l,'click',e),n.className='flex',o.className='weeks',u.className='header'},m:function(a,b){insertNode(f,a,b),insertNode(g,a,b),appendNode(h,g),appendNode(j,h),appendNode(k,h),appendNode(l,h),appendNode(m,g),appendNode(n,g),appendNode(o,n),appendNode(p,o),appendNode(q,p),appendNode(r,p),appendNode(s,p),appendNode(t,o),appendNode(u,o);for(var c=0;c<x.length;c+=1)x[c].m(u,null);appendNode(v,o);for(var c=0;c<z.length;c+=1)z[c].m(o,null)},p:function(a,c){a.monthName&&(q.data=c.monthName),a.year&&(s.data=c.year);var d=c.dayNames;if(a.dayNames){for(var e=0;e<d.length;e+=1)x[e]?x[e].p(a,c,d,d[e],e):(x[e]=create_each_block(c,d,d[e],e,b),x[e].c(),x[e].m(u,null));for(;e<x.length;e+=1)x[e].u(),x[e].d();x.length=d.length}var f=c.calendarMonth;if(a.calendarMonth||a.range||a.selectedDay||a.month){for(var e=0;e<f.length;e+=1)z[e]?z[e].p(a,c,f,f[e],e):(z[e]=create_each_block_1(c,f,f[e],e,b),z[e].c(),z[e].m(o,null));for(;e<z.length;e+=1)z[e].u(),z[e].d();z.length=f.length}},u:function(){detachNode(f),detachNode(g);for(var a=0;a<x.length;a+=1)x[a].u();for(var a=0;a<z.length;a+=1)z[a].u()},d:function(){window.removeEventListener('keydown',c),removeListener(j,'click',d),removeListener(l,'click',e),destroyEach(x),destroyEach(z)}}}function create_each_block(a,b,c){var d,e,f=c;return{c:function(){d=createElement('th'),e=createText(f),this.h()},h:function(){d.className='day-name'},m:function(a,b){insertNode(d,a,b),appendNode(e,d)},p:function(a,b,c,d){a.dayNames&&f!==(f=d)&&(e.data=f)},u:function(){detachNode(d)},d:noop}}function create_each_block_1(a,b,c,d,e){for(var f,g=c,h=[],j=0;j<g.length;j+=1)h[j]=create_each_block_2(a,b,c,d,g,g[j],j,e);return{c:function(){f=createElement('tr');for(var a=0;a<h.length;a+=1)h[a].c();this.h()},h:function(){f.className='week'},m:function(a,b){insertNode(f,a,b);for(var c=0;c<h.length;c+=1)h[c].m(f,null)},p:function(a,b,c,d,g){var j=d;if(a.calendarMonth||a.range||a.selectedDay||a.month){for(var k=0;k<j.length;k+=1)h[k]?h[k].p(a,b,c,d,g,j,j[k],k):(h[k]=create_each_block_2(b,c,d,g,j,j[k],k,e),h[k].c(),h[k].m(f,null));for(;k<h.length;k+=1)h[k].u(),h[k].d();h.length=j.length}},u:function(){detachNode(f);for(var a=0;a<h.length;a+=1)h[a].u()},d:function(){destroyEach(h)}}}function create_each_block_2(a,b,c,d,e,f,g,h){var i,j,k,l=f.dayInMonth;return{c:function(){i=createElement('td'),k=createText(l),this.h()},h:function(){i.className=j=dayClass(a.selectedDay,f,a.month),addListener(i,'click',click_handler),i._svelte={component:h,week_1:e,weekDay_index:g}},m:function(a,b){insertNode(i,a,b),appendNode(k,i)},p:function(a,b,c,d,e,f,g,h){(a.selectedDay||a.calendarMonth||a.month)&&j!==(j=dayClass(b.selectedDay,g,b.month))&&(i.className=j),i._svelte.week_1=f,i._svelte.weekDay_index=h,a.calendarMonth&&l!==(l=g.dayInMonth)&&(k.data=l)},u:function(){detachNode(i)},d:function(){removeListener(i,'click',click_handler)}}}function click_handler(){var a=this._svelte.component,b=this._svelte.week_1,c=this._svelte.weekDay_index,d=b[c],e=a.get();a.selectDay(d,e.range)}function DatePicker$1(a){init(this,a),this._state=assign(data(),a.data),this._recompute({year:1,month:1,startOfTheWeek:1,range:1},this._state),this._fragment=create_main_fragment(this._state,this),a.target&&(this._fragment.c(),this._fragment.m(a.target,a.anchor||null))}assign(DatePicker$1.prototype,methods,proto),DatePicker$1.prototype._recompute=function(a,b){(a.year||a.month)&&differs(b.nextMonth,b.nextMonth=nextMonth(b.year,b.month))&&(a.nextMonth=!0),(a.year||a.month||a.startOfTheWeek||a.range)&&differs(b.calendarMonth,b.calendarMonth=calendarMonth_1(b.year,b.month,b.startOfTheWeek,b.range))&&(a.calendarMonth=!0),(a.year||a.month)&&differs(b.monthName,b.monthName=monthName_1(b.year,b.month))&&(a.monthName=!0),a.startOfTheWeek&&differs(b.dayNames,b.dayNames=dayNames_1(b.startOfTheWeek))&&(a.dayNames=!0)};export default DatePicker$1;
//# sourceMappingURL=date_picker.js.map
